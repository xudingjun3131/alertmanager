{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "description": "从数据库中查询告警数据",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "gnetId": null,
  "graphTooltip": 0,
  "id": 35,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 35,
      "panels": [],
      "title": "实时告警",
      "type": "row"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 0,
        "y": 1
      },
      "id": 6,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "告警总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 2,
        "y": 1
      },
      "id": 17,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%Too Many Nginx Writing%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Nginx(慢) 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 4,
        "y": 1
      },
      "id": 16,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%Nginx Http Total Code 5xx Too Many%' or labels like '%NginxHighHttp5xxErrorRate%' or labels like '%Nginx Http Code 5XX Upstream Too Many%' or labels like '%Nginx Http Code 5XX Backend Too Many%' or labels like '%Nginx_Domain_5XX_Too_Many%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Nginx(5XX)高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 6,
        "y": 1
      },
      "id": 15,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%NginxHighHttp4xxErrorRate%' or labels like '%NginxHighHttp4xxErrorCounts%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Nginx(4XX)高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 8,
        "y": 1
      },
      "id": 8,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%Blackbox%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "URL故障 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 10,
        "y": 1
      },
      "id": 11,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%MysqlTooManyConnections(>80%)%' or labels like '%JDBCPool connections too large%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "数据库连接数高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 12,
        "y": 1
      },
      "id": 10,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%MysqlSlowQueries%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "数据库慢查询 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 14,
        "y": 1
      },
      "id": 13,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%带宽使用率超过%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "带宽高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 16,
        "y": 1
      },
      "id": 12,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%old gc%' or labels like '%GC time too long%' or labels like '%FGC counts too many%' or labels like '%heap space usage%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "GC高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 18,
        "y": 1
      },
      "id": 14,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%磁盘使用率过高%' or labels like '%分区容量过低%' or labels like '%HostOutOfDiskSpace%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "磁盘高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 0,
        "y": 5
      },
      "id": 7,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%PrometheusJobMissing%' or labels like '%Instance-Down%' or labels like '%jvm down%' or labels like '%MysqlDown%' or labels like '%ZookeeperDown%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "实例Down总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 2,
        "y": 5
      },
      "id": 24,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%HostHighCpuLoad%' or labels like '%CPU使用率过高%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "CPU高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 4,
        "y": 5
      },
      "id": 9,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%内存使用率过高%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "内存高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 6,
        "y": 5
      },
      "id": 28,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%消息堆积%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "MQ高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 8,
        "y": 5
      },
      "id": 31,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%SNAT连接数使用率%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "NAT连接数 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 10,
        "y": 5
      },
      "id": 36,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%公有云服务%DOWN%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "探活Down 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 12,
        "y": 5
      },
      "id": 27,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%Redis 带宽使用率%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "REDIS带宽高 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 14,
        "y": 5
      },
      "id": 29,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  and (labels like '%Redis 流控次数超过10次%')\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "REDIS流控 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              },
              {
                "color": "semi-dark-purple",
                "value": 5
              },
              {
                "color": "dark-red",
                "value": 10
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 16,
        "y": 5
      },
      "id": 30,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.state\") = \"active\"\n  and labels not like '%测试环境%'\n  and (labels like '%Redis 慢查询%')\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\nORDER BY startsAt",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "count(*)"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "REDIS慢查询 总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "displayMode": "auto"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "null"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 153
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "valuess"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 112
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "etime"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 157
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "utime"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 167
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "status"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 109
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "labels"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 533
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "stime"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 163
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "description"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 468
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "URL"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 383
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "告警开始时间"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 156
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "告警结束时间"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 174
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "告警总结"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 385
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "告警详情"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 705
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "告警值大小"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 98
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "告警状态"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 91
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "告警标签"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 854
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 11,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 2,
      "options": {
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  startsAt AS \"告警开始时间\",\n  summary as \"告警概述\",\n  labels as '告警标签',\n  description as \"告警详情\",\n  valuess as \"告警值大小\",\n  JSON_EXTRACT(statusss, \"$.state\") as '告警状态',\n  endsAt as \"告警结束时间\"\nFROM alertmanager\nWHERE\n  $__timeFilter(startsAt)\n  and JSON_EXTRACT(statusss, \"$.silencedBy[0]\") is null \n  and (labels not like '%测试环境%')\n  and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\nORDER BY startsAt desc",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "*"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "alertmanager",
          "timeColumn": "startsAt",
          "timeColumnType": "datetime",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "告警详情列表",
      "type": "table"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-purple",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 0,
        "y": 20
      },
      "id": 21,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nwhere \n  startsAt > str_to_date(DATE_FORMAT(NOW(),'%Y-%m-%d'),'%Y-%m-%d %H:%i:%s') \n  and  labels not like '%测试环境%' \n  and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "今日告警总数",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 8,
        "y": 20
      },
      "id": 22,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nwhere\n  lower(labels) like '%critical%'\n  AND startsAt > str_to_date(DATE_FORMAT(NOW(),'%Y-%m-%d'),'%Y-%m-%d %H:%i:%s') \n  and  labels not like '%测试环境%' \n  and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n ;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "今日Critical告警",
      "type": "stat"
    },
    {
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "super-light-orange",
                "value": null
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 16,
        "y": 20
      },
      "id": 23,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "8.2.0",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nwhere\n LOWER(labels) like '%warning%'\n AND startsAt > str_to_date(DATE_FORMAT(NOW(),'%Y-%m-%d'),'%Y-%m-%d %H:%i:%s') \n  and  labels not like '%测试环境%' \n  and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n  ;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "今日Warning告警",
      "type": "stat"
    },
    {
      "aliasColors": {},
      "bars": true,
      "dashLength": 10,
      "dashes": false,
      "datasource": "MySQL-LOCALHOST",
      "fieldConfig": {
        "defaults": {
          "unit": "short"
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 9,
        "w": 24,
        "x": 0,
        "y": 24
      },
      "hiddenSeries": false,
      "id": 26,
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "hideEmpty": false,
        "hideZero": false,
        "max": true,
        "min": true,
        "rightSide": false,
        "show": true,
        "total": true,
        "values": true
      },
      "lines": false,
      "linewidth": 1,
      "nullPointMode": "null as zero",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "8.2.0",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": true,
      "steppedLine": false,
      "targets": [
        {
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  $__timeGroup(startsAt,'1h',0) as 'time',\n  count(fingerprint) as 'value'\nFROM alertmanager\nwhere $__timeFilter(startsAt)\n and labels not like '%测试环境%'\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\ngroup by time;\n",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "thresholds": [
        {
          "$$hashKey": "object:963",
          "colorMode": "critical",
          "fill": true,
          "fillColor": "rgba(51, 162, 229, 0.2)",
          "line": true,
          "lineColor": "rgba(31, 96, 196, 0.6)",
          "op": "gt",
          "value": 10,
          "yaxis": "left"
        }
      ],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "告警走势图(小时)",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:116",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "$$hashKey": "object:117",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 33
      },
      "id": 33,
      "panels": [
        {
          "datasource": "MySQL-LOCALHOST",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": null
                  },
                  {
                    "color": "dark-purple",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 0,
            "y": 34
          },
          "id": 4,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "8.2.0",
          "targets": [
            {
              "format": "table",
              "group": [],
              "metricColumn": "none",
              "rawQuery": true,
              "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nwhere   (labels not like '%测试环境%')\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts';",
              "refId": "A",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "column"
                  }
                ]
              ],
              "timeColumn": "time",
              "where": [
                {
                  "name": "$__timeFilter",
                  "params": [],
                  "type": "macro"
                }
              ]
            }
          ],
          "title": "历史告警总数(FROM:2021-12-02)",
          "type": "stat"
        },
        {
          "datasource": "MySQL-LOCALHOST",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 4,
            "y": 34
          },
          "id": 18,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "8.2.0",
          "targets": [
            {
              "format": "table",
              "group": [],
              "metricColumn": "none",
              "rawQuery": true,
              "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nwhere \n lower(labels) like '%critical%' \n and  (labels not like '%测试环境%')\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts'\n;",
              "refId": "A",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "column"
                  }
                ]
              ],
              "timeColumn": "time",
              "where": [
                {
                  "name": "$__timeFilter",
                  "params": [],
                  "type": "macro"
                }
              ]
            }
          ],
          "title": "Critical告警总数(FROM:2021-12-02)",
          "type": "stat"
        },
        {
          "datasource": "MySQL-LOCALHOST",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": null
                  },
                  {
                    "color": "super-light-orange",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 8,
            "y": 34
          },
          "id": 19,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "8.2.0",
          "targets": [
            {
              "format": "table",
              "group": [],
              "metricColumn": "none",
              "rawQuery": true,
              "rawSql": "SELECT\n  count(fingerprint)\nFROM alertmanager\nwhere \n lower(labels) like '%warning%' \n and (labels not like '%测试环境%')\n and alertmanager_api_url <> 'https://alertmanager-me.qiyuesuo.me/api/v2/alerts';",
              "refId": "A",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "column"
                  }
                ]
              ],
              "timeColumn": "time",
              "where": [
                {
                  "name": "$__timeFilter",
                  "params": [],
                  "type": "macro"
                }
              ]
            }
          ],
          "title": "Warning告警总数(FROM:2021-12-02)",
          "type": "stat"
        }
      ],
      "title": "历史告警",
      "type": "row"
    }
  ],
  "refresh": "5s",
  "schemaVersion": 31,
  "style": "dark",
  "tags": [
    "alertmanager",
    "prometheus"
  ],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-24h",
    "to": "now"
  },
  "timepicker": {
    "nowDelay": "",
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "timezone": "",
  "title": "告警看板",
  "uid": "E0nung27k",
  "version": 70
}
